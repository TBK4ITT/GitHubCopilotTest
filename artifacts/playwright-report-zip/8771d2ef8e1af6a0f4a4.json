{"fileId":"8771d2ef8e1af6a0f4a4","fileName":"tests/profile.spec.ts","tests":[{"testId":"8771d2ef8e1af6a0f4a4-7a97add2cd09c8fa00c3","title":"login -> edit profile -> success","projectName":"chromium","location":{"file":"tests/profile.spec.ts","line":3,"column":5},"duration":60022,"annotations":[],"tags":[],"outcome":"unexpected","path":[],"results":[{"duration":60022,"startTime":"2026-01-10T19:47:56.861Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-10T19:47:56.866Z","duration":1327,"steps":[{"title":"Fixture \"browser\"","startTime":"2026-01-10T19:47:56.883Z","duration":1266,"steps":[{"title":"Launch browser","startTime":"2026-01-10T19:47:56.887Z","duration":1262,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-10T19:47:58.151Z","duration":12,"steps":[{"title":"Create context","startTime":"2026-01-10T19:47:58.154Z","duration":8,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-10T19:47:58.163Z","duration":30,"steps":[{"title":"Create page","startTime":"2026-01-10T19:47:58.165Z","duration":28,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Navigate to \"/\"","startTime":"2026-01-10T19:47:58.195Z","duration":29,"steps":[],"attachments":[],"location":{"file":"tests/profile.spec.ts","line":4,"column":14},"count":1,"skipped":false,"snippet":" \u001b[90m  3 |\u001b[39m test(\u001b[32m'login -> edit profile -> success'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n \u001b[90m  4 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(\u001b[32m'/'\u001b[39m)\n \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  5 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForSelector(\u001b[32m'form[aria-label=\"login-form\"]'\u001b[39m)"},{"title":"Wait for selector locator('form[aria-label=\"login-form\"]')","startTime":"2026-01-10T19:47:58.229Z","duration":59941,"steps":[],"attachments":[],"location":{"file":"tests/profile.spec.ts","line":5,"column":14},"error":"Error: page.waitForSelector: Test timeout of 60000ms exceeded.\nCall log:\n\u001b[2m  - waiting for locator('form[aria-label=\"login-form\"]') to be visible\u001b[22m\n","count":1,"skipped":false,"snippet":" \u001b[90m  4 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(\u001b[32m'/'\u001b[39m)\n \u001b[90m  5 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForSelector(\u001b[32m'form[aria-label=\"login-form\"]'\u001b[39m)\n \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m  6 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgetByLabel(\u001b[32m'Email'\u001b[39m)\u001b[33m.\u001b[39mfill(\u001b[32m'test@example.com'\u001b[39m)"},{"title":"After Hooks","startTime":"2026-01-10T19:48:58.150Z","duration":27,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-10T19:48:58.151Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-10T19:48:58.151Z","duration":20,"steps":[{"title":"Close context","startTime":"2026-01-10T19:48:58.162Z","duration":9,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Worker Cleanup","startTime":"2026-01-10T19:48:58.177Z","duration":25,"steps":[{"title":"Fixture \"browser\"","startTime":"2026-01-10T19:48:58.178Z","duration":22,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[{"message":"\u001b[31mTest timeout of 60000ms exceeded.\u001b[39m"},{"message":"Error: page.waitForSelector: Test timeout of 60000ms exceeded.\nCall log:\n\u001b[2m  - waiting for locator('form[aria-label=\"login-form\"]') to be visible\u001b[22m\n\n\n  3 | test('login -> edit profile -> success', async ({ page }) => {\n  4 |   await page.goto('/')\n> 5 |   await page.waitForSelector('form[aria-label=\"login-form\"]')\n    |              ^\n  6 |   await page.getByLabel('Email').fill('test@example.com')\n  7 |   await page.getByLabel('Password').fill('Password1')\n  8 |   await page.getByRole('button', { name: 'Sign in' }).click()\n    at /home/runner/work/GitHubCopilotTest/GitHubCopilotTest/e2e/tests/profile.spec.ts:5:14","codeframe":"   1 | import { test, expect } from '@playwright/test'\n   2 |\n   3 | test('login -> edit profile -> success', async ({ page }) => {\n   4 |   await page.goto('/')\n>  5 |   await page.waitForSelector('form[aria-label=\"login-form\"]')\n     |              ^ Error: page.waitForSelector: Test timeout of 60000ms exceeded.\n   6 |   await page.getByLabel('Email').fill('test@example.com')\n   7 |   await page.getByLabel('Password').fill('Password1')\n   8 |   await page.getByRole('button', { name: 'Sign in' }).click()\n   9 |\n  10 |   await expect(page.locator('text=Welcome')).toBeVisible()\n  11 |\n  12 |   // Navigate to profile\n  13 |   await page.getByText('Profile').click()\n  14 |   await expect(page.getByRole('heading', { name: 'Profile' })).toBeVisible()\n  15 |\n  16 |   // Edit fields\n  17 |   await page.getByLabel('Name').fill('E2E User')\n  18 |   await page.getByLabel('Email').fill('e2e@example.com')\n  19 |   await page.getByRole('button', { name: 'Save' }).click()\n  20 |\n  21 |   // Toast\n  22 |   await expect(page.locator('text=Profile updated')).toBeVisible()\n  23 |\n  24 |   // localStorage should be updated\n  25 |   const stored = await page.evaluate(() => JSON.parse(localStorage.getItem('user') || '{}'))\n  26 |   expect(stored.email).toBe('e2e@example.com')\n  27 | })\n  28 |\n  29 | test('dev simulate failNext triggers rollback', async ({ page }) => {\n  30 |   // ensure a clean state\n  31 |   await page.goto('/')\n  32 |   await page.waitForSelector('form[aria-label=\"login-form\"]')\n  33 |   await page.getByLabel('Email').fill('test@example.com')\n  34 |   await page.getByLabel('Password').fill('Password1')\n  35 |   await page.getByRole('button', { name: 'Sign in' }).click()\n  36 |   await expect(page.locator('text=Welcome')).toBeVisible()\n  37 |\n  38 |   // reset simulation\n  39 |   await page.goto('/__dev__')\n  40 |   await page.getByTestId('dev-reset').click()\n  41 |   // set failNext\n  42 |   await page.getByTestId('dev-failNext').check()\n  43 |   await page.getByTestId('dev-apply').click()\n  44 |\n  45 |   // go to profile and attempt update\n  46 |   await page.goto('/profile')\n  47 |   await page.getByLabel('Email').fill('newfail@example.com')\n  48 |   await page.getByRole('button', { name: 'Save' }).click()\n  49 |\n  50 |   // should show error and rollback\n  51 |   await expect(page.locator('text=Simulated failure')).toBeVisible()\n  52 |   await expect(page.getByLabel('Email')).toHaveValue('test@example.com')\n  53 | })\n  54 |\n  55 | test('dev simulate rate limit enforces limit and rollbacks', async ({ page }) => {\n  56 |   await page.goto('/')\n  57 |   await page.waitForSelector('form[aria-label=\"login-form\"]')\n  58 |   await page.getByLabel('Email').fill('test@example.com')\n  59 |   await page.getByLabel('Password').fill('Password1')\n  60 |   await page.getByRole('button', { name: 'Sign in' }).click()\n  61 |\n  62 |   // setup rate limit to 1\n  63 |   await page.goto('/__dev__')\n  64 |   await page.getByTestId('dev-reset').click()\n  65 |   await page.getByTestId('dev-rateLimit').fill('1')\n  66 |   await page.getByTestId('dev-apply').click()\n  67 |\n  68 |   // first save should succeed\n  69 |   await page.goto('/profile')\n  70 |   await page.getByLabel('Email').fill('first@example.com')\n  71 |   await page.getByRole('button', { name: 'Save' }).click()\n  72 |   await expect(page.locator('text=Profile updated')).toBeVisible()\n  73 |\n  74 |   // second save should fail due to rate limit and rollback\n  75 |   await page.getByLabel('Email').fill('second@example.com')\n  76 |   await page.getByRole('button', { name: 'Save' }).click()\n  77 |   await expect(page.locator('text=Rate limit exceeded')).toBeVisible()\n  78 |   await expect(page.getByLabel('Email')).toHaveValue('first@example.com')\n  79 | })\n  80 | //"}],"status":"timedOut","annotations":[],"attachments":[]}],"ok":false},{"testId":"8771d2ef8e1af6a0f4a4-7004ee95c02106ffe9e0","title":"dev simulate failNext triggers rollback","projectName":"chromium","location":{"file":"tests/profile.spec.ts","line":29,"column":5},"duration":60021,"annotations":[],"tags":[],"outcome":"unexpected","path":[],"results":[{"duration":60021,"startTime":"2026-01-10T19:48:58.886Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-10T19:48:58.892Z","duration":124,"steps":[{"title":"Fixture \"browser\"","startTime":"2026-01-10T19:48:58.905Z","duration":66,"steps":[{"title":"Launch browser","startTime":"2026-01-10T19:48:58.909Z","duration":61,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-10T19:48:58.975Z","duration":12,"steps":[{"title":"Create context","startTime":"2026-01-10T19:48:58.978Z","duration":8,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-10T19:48:58.987Z","duration":29,"steps":[{"title":"Create page","startTime":"2026-01-10T19:48:58.988Z","duration":28,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Navigate to \"/\"","startTime":"2026-01-10T19:48:59.019Z","duration":26,"steps":[],"attachments":[],"location":{"file":"tests/profile.spec.ts","line":31,"column":14},"count":1,"skipped":false,"snippet":" \u001b[90m 30 |\u001b[39m   \u001b[90m// ensure a clean state\u001b[39m\n \u001b[90m 31 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(\u001b[32m'/'\u001b[39m)\n \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 32 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForSelector(\u001b[32m'form[aria-label=\"login-form\"]'\u001b[39m)"},{"title":"Wait for selector locator('form[aria-label=\"login-form\"]')","startTime":"2026-01-10T19:48:59.049Z","duration":59944,"steps":[],"attachments":[],"location":{"file":"tests/profile.spec.ts","line":32,"column":14},"error":"Error: page.waitForSelector: Test timeout of 60000ms exceeded.\nCall log:\n\u001b[2m  - waiting for locator('form[aria-label=\"login-form\"]') to be visible\u001b[22m\n","count":1,"skipped":false,"snippet":" \u001b[90m 31 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(\u001b[32m'/'\u001b[39m)\n \u001b[90m 32 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForSelector(\u001b[32m'form[aria-label=\"login-form\"]'\u001b[39m)\n \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 33 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgetByLabel(\u001b[32m'Email'\u001b[39m)\u001b[33m.\u001b[39mfill(\u001b[32m'test@example.com'\u001b[39m)"},{"title":"After Hooks","startTime":"2026-01-10T19:49:58.973Z","duration":27,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-10T19:49:58.974Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-10T19:49:58.974Z","duration":20,"steps":[{"title":"Close context","startTime":"2026-01-10T19:49:58.985Z","duration":9,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Worker Cleanup","startTime":"2026-01-10T19:49:59.000Z","duration":26,"steps":[{"title":"Fixture \"browser\"","startTime":"2026-01-10T19:49:59.001Z","duration":22,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[{"message":"\u001b[31mTest timeout of 60000ms exceeded.\u001b[39m"},{"message":"Error: page.waitForSelector: Test timeout of 60000ms exceeded.\nCall log:\n\u001b[2m  - waiting for locator('form[aria-label=\"login-form\"]') to be visible\u001b[22m\n\n\n  30 |   // ensure a clean state\n  31 |   await page.goto('/')\n> 32 |   await page.waitForSelector('form[aria-label=\"login-form\"]')\n     |              ^\n  33 |   await page.getByLabel('Email').fill('test@example.com')\n  34 |   await page.getByLabel('Password').fill('Password1')\n  35 |   await page.getByRole('button', { name: 'Sign in' }).click()\n    at /home/runner/work/GitHubCopilotTest/GitHubCopilotTest/e2e/tests/profile.spec.ts:32:14","codeframe":"   1 | import { test, expect } from '@playwright/test'\n   2 |\n   3 | test('login -> edit profile -> success', async ({ page }) => {\n   4 |   await page.goto('/')\n   5 |   await page.waitForSelector('form[aria-label=\"login-form\"]')\n   6 |   await page.getByLabel('Email').fill('test@example.com')\n   7 |   await page.getByLabel('Password').fill('Password1')\n   8 |   await page.getByRole('button', { name: 'Sign in' }).click()\n   9 |\n  10 |   await expect(page.locator('text=Welcome')).toBeVisible()\n  11 |\n  12 |   // Navigate to profile\n  13 |   await page.getByText('Profile').click()\n  14 |   await expect(page.getByRole('heading', { name: 'Profile' })).toBeVisible()\n  15 |\n  16 |   // Edit fields\n  17 |   await page.getByLabel('Name').fill('E2E User')\n  18 |   await page.getByLabel('Email').fill('e2e@example.com')\n  19 |   await page.getByRole('button', { name: 'Save' }).click()\n  20 |\n  21 |   // Toast\n  22 |   await expect(page.locator('text=Profile updated')).toBeVisible()\n  23 |\n  24 |   // localStorage should be updated\n  25 |   const stored = await page.evaluate(() => JSON.parse(localStorage.getItem('user') || '{}'))\n  26 |   expect(stored.email).toBe('e2e@example.com')\n  27 | })\n  28 |\n  29 | test('dev simulate failNext triggers rollback', async ({ page }) => {\n  30 |   // ensure a clean state\n  31 |   await page.goto('/')\n> 32 |   await page.waitForSelector('form[aria-label=\"login-form\"]')\n     |              ^ Error: page.waitForSelector: Test timeout of 60000ms exceeded.\n  33 |   await page.getByLabel('Email').fill('test@example.com')\n  34 |   await page.getByLabel('Password').fill('Password1')\n  35 |   await page.getByRole('button', { name: 'Sign in' }).click()\n  36 |   await expect(page.locator('text=Welcome')).toBeVisible()\n  37 |\n  38 |   // reset simulation\n  39 |   await page.goto('/__dev__')\n  40 |   await page.getByTestId('dev-reset').click()\n  41 |   // set failNext\n  42 |   await page.getByTestId('dev-failNext').check()\n  43 |   await page.getByTestId('dev-apply').click()\n  44 |\n  45 |   // go to profile and attempt update\n  46 |   await page.goto('/profile')\n  47 |   await page.getByLabel('Email').fill('newfail@example.com')\n  48 |   await page.getByRole('button', { name: 'Save' }).click()\n  49 |\n  50 |   // should show error and rollback\n  51 |   await expect(page.locator('text=Simulated failure')).toBeVisible()\n  52 |   await expect(page.getByLabel('Email')).toHaveValue('test@example.com')\n  53 | })\n  54 |\n  55 | test('dev simulate rate limit enforces limit and rollbacks', async ({ page }) => {\n  56 |   await page.goto('/')\n  57 |   await page.waitForSelector('form[aria-label=\"login-form\"]')\n  58 |   await page.getByLabel('Email').fill('test@example.com')\n  59 |   await page.getByLabel('Password').fill('Password1')\n  60 |   await page.getByRole('button', { name: 'Sign in' }).click()\n  61 |\n  62 |   // setup rate limit to 1\n  63 |   await page.goto('/__dev__')\n  64 |   await page.getByTestId('dev-reset').click()\n  65 |   await page.getByTestId('dev-rateLimit').fill('1')\n  66 |   await page.getByTestId('dev-apply').click()\n  67 |\n  68 |   // first save should succeed\n  69 |   await page.goto('/profile')\n  70 |   await page.getByLabel('Email').fill('first@example.com')\n  71 |   await page.getByRole('button', { name: 'Save' }).click()\n  72 |   await expect(page.locator('text=Profile updated')).toBeVisible()\n  73 |\n  74 |   // second save should fail due to rate limit and rollback\n  75 |   await page.getByLabel('Email').fill('second@example.com')\n  76 |   await page.getByRole('button', { name: 'Save' }).click()\n  77 |   await expect(page.locator('text=Rate limit exceeded')).toBeVisible()\n  78 |   await expect(page.getByLabel('Email')).toHaveValue('first@example.com')\n  79 | })\n  80 | //"}],"status":"timedOut","annotations":[],"attachments":[]}],"ok":false},{"testId":"8771d2ef8e1af6a0f4a4-079bf1a7828999a3cf4d","title":"dev simulate rate limit enforces limit and rollbacks","projectName":"chromium","location":{"file":"tests/profile.spec.ts","line":55,"column":5},"duration":60020,"annotations":[],"tags":[],"outcome":"unexpected","path":[],"results":[{"duration":60020,"startTime":"2026-01-10T19:49:59.698Z","retry":0,"steps":[{"title":"Before Hooks","startTime":"2026-01-10T19:49:59.704Z","duration":128,"steps":[{"title":"Fixture \"browser\"","startTime":"2026-01-10T19:49:59.717Z","duration":62,"steps":[{"title":"Launch browser","startTime":"2026-01-10T19:49:59.722Z","duration":57,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-10T19:49:59.782Z","duration":19,"steps":[{"title":"Create context","startTime":"2026-01-10T19:49:59.786Z","duration":14,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"page\"","startTime":"2026-01-10T19:49:59.801Z","duration":31,"steps":[{"title":"Create page","startTime":"2026-01-10T19:49:59.802Z","duration":29,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Navigate to \"/\"","startTime":"2026-01-10T19:49:59.834Z","duration":27,"steps":[],"attachments":[],"location":{"file":"tests/profile.spec.ts","line":56,"column":14},"count":1,"skipped":false,"snippet":" \u001b[90m 55 |\u001b[39m test(\u001b[32m'dev simulate rate limit enforces limit and rollbacks'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m ({ page }) \u001b[33m=>\u001b[39m {\n \u001b[90m 56 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(\u001b[32m'/'\u001b[39m)\n \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 57 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForSelector(\u001b[32m'form[aria-label=\"login-form\"]'\u001b[39m)"},{"title":"Wait for selector locator('form[aria-label=\"login-form\"]')","startTime":"2026-01-10T19:49:59.865Z","duration":59934,"steps":[],"attachments":[],"location":{"file":"tests/profile.spec.ts","line":57,"column":14},"error":"Error: page.waitForSelector: Test timeout of 60000ms exceeded.\nCall log:\n\u001b[2m  - waiting for locator('form[aria-label=\"login-form\"]') to be visible\u001b[22m\n","count":1,"skipped":false,"snippet":" \u001b[90m 56 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgoto(\u001b[32m'/'\u001b[39m)\n \u001b[90m 57 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mwaitForSelector(\u001b[32m'form[aria-label=\"login-form\"]'\u001b[39m)\n \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m             ^\u001b[22m\u001b[39m\u001b[0m\n \u001b[90m 58 |\u001b[39m   \u001b[36mawait\u001b[39m page\u001b[33m.\u001b[39mgetByLabel(\u001b[32m'Email'\u001b[39m)\u001b[33m.\u001b[39mfill(\u001b[32m'test@example.com'\u001b[39m)"},{"title":"After Hooks","startTime":"2026-01-10T19:50:59.779Z","duration":28,"steps":[{"title":"Fixture \"page\"","startTime":"2026-01-10T19:50:59.780Z","duration":0,"steps":[],"attachments":[],"count":1,"skipped":false},{"title":"Fixture \"context\"","startTime":"2026-01-10T19:50:59.781Z","duration":19,"steps":[{"title":"Close context","startTime":"2026-01-10T19:50:59.791Z","duration":9,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false},{"title":"Worker Cleanup","startTime":"2026-01-10T19:50:59.808Z","duration":26,"steps":[{"title":"Fixture \"browser\"","startTime":"2026-01-10T19:50:59.809Z","duration":23,"steps":[],"attachments":[],"count":1,"skipped":false}],"attachments":[],"count":1,"skipped":false}],"errors":[{"message":"\u001b[31mTest timeout of 60000ms exceeded.\u001b[39m"},{"message":"Error: page.waitForSelector: Test timeout of 60000ms exceeded.\nCall log:\n\u001b[2m  - waiting for locator('form[aria-label=\"login-form\"]') to be visible\u001b[22m\n\n\n  55 | test('dev simulate rate limit enforces limit and rollbacks', async ({ page }) => {\n  56 |   await page.goto('/')\n> 57 |   await page.waitForSelector('form[aria-label=\"login-form\"]')\n     |              ^\n  58 |   await page.getByLabel('Email').fill('test@example.com')\n  59 |   await page.getByLabel('Password').fill('Password1')\n  60 |   await page.getByRole('button', { name: 'Sign in' }).click()\n    at /home/runner/work/GitHubCopilotTest/GitHubCopilotTest/e2e/tests/profile.spec.ts:57:14","codeframe":"   1 | import { test, expect } from '@playwright/test'\n   2 |\n   3 | test('login -> edit profile -> success', async ({ page }) => {\n   4 |   await page.goto('/')\n   5 |   await page.waitForSelector('form[aria-label=\"login-form\"]')\n   6 |   await page.getByLabel('Email').fill('test@example.com')\n   7 |   await page.getByLabel('Password').fill('Password1')\n   8 |   await page.getByRole('button', { name: 'Sign in' }).click()\n   9 |\n  10 |   await expect(page.locator('text=Welcome')).toBeVisible()\n  11 |\n  12 |   // Navigate to profile\n  13 |   await page.getByText('Profile').click()\n  14 |   await expect(page.getByRole('heading', { name: 'Profile' })).toBeVisible()\n  15 |\n  16 |   // Edit fields\n  17 |   await page.getByLabel('Name').fill('E2E User')\n  18 |   await page.getByLabel('Email').fill('e2e@example.com')\n  19 |   await page.getByRole('button', { name: 'Save' }).click()\n  20 |\n  21 |   // Toast\n  22 |   await expect(page.locator('text=Profile updated')).toBeVisible()\n  23 |\n  24 |   // localStorage should be updated\n  25 |   const stored = await page.evaluate(() => JSON.parse(localStorage.getItem('user') || '{}'))\n  26 |   expect(stored.email).toBe('e2e@example.com')\n  27 | })\n  28 |\n  29 | test('dev simulate failNext triggers rollback', async ({ page }) => {\n  30 |   // ensure a clean state\n  31 |   await page.goto('/')\n  32 |   await page.waitForSelector('form[aria-label=\"login-form\"]')\n  33 |   await page.getByLabel('Email').fill('test@example.com')\n  34 |   await page.getByLabel('Password').fill('Password1')\n  35 |   await page.getByRole('button', { name: 'Sign in' }).click()\n  36 |   await expect(page.locator('text=Welcome')).toBeVisible()\n  37 |\n  38 |   // reset simulation\n  39 |   await page.goto('/__dev__')\n  40 |   await page.getByTestId('dev-reset').click()\n  41 |   // set failNext\n  42 |   await page.getByTestId('dev-failNext').check()\n  43 |   await page.getByTestId('dev-apply').click()\n  44 |\n  45 |   // go to profile and attempt update\n  46 |   await page.goto('/profile')\n  47 |   await page.getByLabel('Email').fill('newfail@example.com')\n  48 |   await page.getByRole('button', { name: 'Save' }).click()\n  49 |\n  50 |   // should show error and rollback\n  51 |   await expect(page.locator('text=Simulated failure')).toBeVisible()\n  52 |   await expect(page.getByLabel('Email')).toHaveValue('test@example.com')\n  53 | })\n  54 |\n  55 | test('dev simulate rate limit enforces limit and rollbacks', async ({ page }) => {\n  56 |   await page.goto('/')\n> 57 |   await page.waitForSelector('form[aria-label=\"login-form\"]')\n     |              ^ Error: page.waitForSelector: Test timeout of 60000ms exceeded.\n  58 |   await page.getByLabel('Email').fill('test@example.com')\n  59 |   await page.getByLabel('Password').fill('Password1')\n  60 |   await page.getByRole('button', { name: 'Sign in' }).click()\n  61 |\n  62 |   // setup rate limit to 1\n  63 |   await page.goto('/__dev__')\n  64 |   await page.getByTestId('dev-reset').click()\n  65 |   await page.getByTestId('dev-rateLimit').fill('1')\n  66 |   await page.getByTestId('dev-apply').click()\n  67 |\n  68 |   // first save should succeed\n  69 |   await page.goto('/profile')\n  70 |   await page.getByLabel('Email').fill('first@example.com')\n  71 |   await page.getByRole('button', { name: 'Save' }).click()\n  72 |   await expect(page.locator('text=Profile updated')).toBeVisible()\n  73 |\n  74 |   // second save should fail due to rate limit and rollback\n  75 |   await page.getByLabel('Email').fill('second@example.com')\n  76 |   await page.getByRole('button', { name: 'Save' }).click()\n  77 |   await expect(page.locator('text=Rate limit exceeded')).toBeVisible()\n  78 |   await expect(page.getByLabel('Email')).toHaveValue('first@example.com')\n  79 | })\n  80 | //"}],"status":"timedOut","annotations":[],"attachments":[]}],"ok":false}]}